<!doctype HTML>
<html>
  <head>  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- Importing stylesheet and script files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename = 'webcam.js') }}"></script>
    <script language="JavaScript" src="{{ url_for('static', filename = 'dynamic.js') }}" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">

    <!-- Importing Aframe and ARjs -->
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <!-- Importing ARjs Event Clicker Requirements -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script>
      AFRAME.registerComponent('clickhandler', {
              schema: {
                txt: {default:'default'}
              },        
              init: function () {
                var data = this.data;
                var el = this.el;        
                el.addEventListener('click', function () {            
                 console.log(data.txt);
                });        
              }
            });
      </script>
    <!-- Importing Jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  
    </head>
<!-- Backend camera using Webcam.js -->
  <div id="my_camera"></div>
  <!-- Importing script -->
  <script language="JavaScript" src="{{ url_for('static', filename = 'camera.js') }}"></script>

  <body style="margin : 0px; overflow: hidden;">

  <a-scene id="stock-scene"
  arjs="sourceType: webcam;debugUIEnabled: false;">
    <a-entity id="stock-card" position="0.3 1.7 -1"
    geometry="primitive: box; width: 0.45; height: 0.6; depth: 0.1"
    material="color: #21c995;"
    >
      <a-entity id="buybutton" position="-0.1 -0.13 0.2"
      geometry="primitive: plane; width: 0.075; height: 0.075"
      material="color: #00ba04;"
      text="font:kelsonsans; width:0.4; value:Buy; color: #212121; align: center;"
      event-set__down="_event: mousedown; material.wireframe: true;"
      event-set__up="_event: mouseup; material.wireframe: false;" 
      clickhandler="txt:buybutton1"></a-entity>

      <a-entity id="sellbutton" position="0.1 -0.13 0.2"
      geometry="primitive: plane; width: 0.075; height: 0.075"
      material="color: #f45430;"
      text="font:kelsonsans; width:0.4; value:Sell; color: #212121; align: center;"
      event-set__down="_event: mousedown; material.wireframe: true;"
      event-set__up="_event: mouseup; material.wireframe: false;"
      clickhandler="txt:sellbutton1"></a-entity>
    </a-entity>
  </a-scene>
  <form id="logout" action = "http://localhost:5000/logout" method = "post"><button id="logout-button" type="submit">LOGOUT</button></form>
  </body>
</html>